Literate Programming
====================

---
# Literate Programming

**Алексей Пирогов (@alex_pir)**

Kazan Python DevDay 2014

---
# LP - что это, собственно?

**LP** / **Грамотное программирование**:

- Методология разработки ПО
- Придумана **Д.Кнутом** в 1981г.
- Применима на любом уровне абстракции
- **language agnostic**

---
Суть
====

---
# Суть
**Вкратце:**

- Пишем
    - **Структурированный** документ
    - На **псевдокоде**
- Получаем
    - **Нормальные** исходники
    - **Понятную** документацию
    - Готовую научную работу ;)

---
# Документ

**Документ**

- Строится согласно **логике повествования**
- Внешне похож на **эссе** по CS
- Никак **не зависит** от структуры исходного кода
- Представляет собой **"взаимозависимую сеть концепций"** (Web)

---
# Псевдокод

Описание кода программы строится из

- **Терминов**, которые
    - Понятны внешне
    - Объясняются в том месте текста, где это наиболее уместно
- Собственно, **кусков кода** на целевом языке

---
# Исходники

**Исходники**

- Компонуются так, как это **принято для целевого языка**
- Распределяются по файлам/папкам так, как...
- Никак **не ограничены** структурой документа

---
# Документация

**Документация**

- **Актуальна**, т.к. изменения в коде
    1. Вносятся в документ
    2. Появляются в регенерированном исходнике
- **Понятна** - в этом и цель подхода!
- Никак **не ограничена** структурой программы
- **Не** представляет собой **справочник** по коду (обычно)

---
# Глоссарий

**Web = Tangle + Weave**

- Исходный код - **запутывается** (**tangle**)
- Документация - **связывается** (**weave**)

---
Применение
==========

---
# Реализации

- Классические LP-системы:
    - WEB: ``Pascal + TeX``
    - CWEB: ``C/C++/Java + TeX/HTML``
    - **noweb**: ``любой ЯП + TeX/HTML``
    - **PyWeb**: ``Python + LaTeX/rST/HTML``

---
# Реализации

- "Обратные" LP-системы:
    - Codnar: ``Ruby + HTML``
- "Сочувствующие":
    - **Leo Editor**: outline-редактор с поддержкой LP
    - плагины для Vim
    - режимы для Emacs

---
Примеры
=======

---
# noweb

    !tex
    @\section{Hello world!}
    Напишем простейшую программу на \texttt{Python}:

    <<hello.py>>=
    <<header>>
    def main():
        <<приветствие>>
    <<execution code>>

    @Текст будем писать так:
    <<приветствие>>
    print "Hello!"

---
# PyWeb

    !rst
    Hello
    -----
    Наша программа будет иметь вид
    @o hello.py @{#!/usr/bin/env python
    # coding: utf-8
    @<main function@>
    @}

    _Главная_ функция:
    @d main function @{
    def main():
        print "Hello!"
    @}

---
# Leo Editor

**live demo**

---
Question Time!
==============

---
# Полезные ссылки
# Полезные ссылки:

- [https://en.wikipedia.org/wiki/Literate_programming](https://en.wikipedia.org/wiki/Literate_programming)
- [http://en.literateprograms.org/LiteratePrograms:Welcome](http://en.literateprograms.org/LiteratePrograms:Welcome)
- [http://www.cs.tufts.edu/~nr/noweb](http://www.cs.tufts.edu/~nr/noweb)
- [http://pywebtool.sourceforge.net](http://pywebtool.sourceforge.net)
- [http://leoeditor.com](http://leoeditor.com)

---
Fin
===
